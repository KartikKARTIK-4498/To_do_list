(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(1602)}])},6542:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var o=n(5893),r=n(7294),a=n(8520),c=n.n(a),i=n(8758),s=n.n(i),u=n(2814),d=n(1436),l=n(6024),p=n(9669),f=n.n(p);function m(e,t,n,o,r,a,c){try{var i=e[a](c),s=i.value}catch(u){return void n(u)}i.done?t(s):Promise.resolve(s).then(o,r)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var a=e.apply(t,n);function c(e){m(a,o,r,c,i,"next",e)}function i(e){m(a,o,r,c,i,"throw",e)}c(void 0)}))}}var v=function(e){var t=e.content,n=e._id,a=e.description,i=e.important,p=e.task_done,m=e.setTodo,v=(e.todoDescription,e.settodoDescription),_=(0,r.useState)(i),x=_[0],g=_[1],y=(0,r.useState)(p),b=y[0],w=y[1],k=h(c().mark((function e(t){var n,o,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.currentTarget.parentElement.parentElement,o=n.getAttribute("data-id"),e.prev=2,e.next=5,f()({method:"PATCH",url:"/api/todo/".concat(o),data:{important:!x}});case 5:r=e.sent,g((function(e){return!e})),console.log("Task Marked as important: ",o),console.log(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[2,11]])}))),j=h(c().mark((function e(t){var n,o,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.currentTarget.parentElement,o=n.getAttribute("data-id"),e.prev=2,e.next=5,f()({method:"PATCH",url:"/api/todo/".concat(o),data:{task_done:!b}});case 5:r=e.sent,console.warn("Marked as done: ",o),w((function(e){return!e})),console.log(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[2,11]])}))),T=h(c().mark((function e(t){var n,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.currentTarget.parentElement.parentElement,o=n.getAttribute("data-id"),e.prev=2,e.next=5,f()({method:"DELETE",url:"/api/todo/".concat(o)});case 5:e.sent,n.remove(),console.log("Task deleted: ",o),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return(0,o.jsxs)("article",{className:s().todoItem,"data-id":n,style:{display:"flex",alignItems:"center"},children:[(0,o.jsx)("div",{style:{marginRight:"1rem"},className:"".concat(s().circle," ").concat(b?s().taskDone:""),onClick:j,children:(0,o.jsx)("span",{className:s().checkmark})}),(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"80%"},children:[(0,o.jsx)("h1",{className:s().todoContent,style:{left:"-1rem"},children:t}),(0,o.jsx)("hr",{}),(0,o.jsx)("h3",{className:s().todoContent,style:{fontSize:"0.8rem",left:"-0.8rem"},children:a})]}),(0,o.jsxs)("div",{className:s().starIconDiv,children:[(0,o.jsx)(u.G,{icon:d.UJf,onClick:function(e){m(t),v(a),T(e)}})," ",(0,o.jsx)(u.G,{icon:x?d.Tab:l.T,onClick:k}),(0,o.jsx)(u.G,{icon:l.I7,className:s().trashIcon,onClick:T})]})]})};function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){var t=e.todos,n=e.setTodo,a=e.todoDescription,c=e.settodoDescription;return!t||t.length<=0?(0,o.jsx)("section",{children:(0,o.jsx)("p",{style:{marginLeft:"1.75em"},children:"No tasks yet. Click on the input to add a new task"})}):(0,o.jsx)("section",{style:{marginTop:"2rem"},children:t.map((function(e){return(0,r.createElement)(v,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){_(e,t,n[t])}))}return e}({},e,{key:e._id,setTodo:n,todoDescription:a,settodoDescription:c}))}))})}},1602:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return y},default:function(){return b}});var o=n(8520),r=n.n(o),a=n(5893),c=n(7294),i=n(2814),s=n(5008),u=n.n(s),d=n(6024);var l=function(e){var t=e.onSubmit,n=e.todo,o=e.setTodo,r=e.todoDescription,s=e.settodoDescription,l=(0,c.useState)(!1),p=(l[0],l[1]),f=(0,c.useRef)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{type:"text",name:"todo",className:"".concat(u().input," "),placeholder:"Add a task",value:n,onChange:function(e){return o(e.target.value)},onFocus:function(e){return p(!0)},autoComplete:"off",ref:f,style:{border:"2px solid #8282de",padding:"0.5rem",marginTop:"2rem",borderRadius:"10px"}}),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,a.jsx)("textarea",{type:"text",name:"todo",className:"".concat(u().input," "),placeholder:"Description",value:r,onChange:function(e){return s(e.target.value)},onFocus:function(e){return p(!0)},autoComplete:"off",ref:f,style:{border:"2px solid #8282de",padding:"0.5rem",marginTop:"1rem",borderRadius:"10px"}}),(0,a.jsxs)("button",{style:{background:" #8282de",fontSize:"1.2rem",color:"white",alignSelf:"flex-end"},disabled:!n.trim()||!r.trim(),className:u().addBtn,onClick:function(e){o(""),s(""),p(!1),f.current.value="",t(n)},children:["Add",(0,a.jsx)(i.G,{icon:d.CP})]})]})]})},p=n(6542),f=n(9669),m=n.n(f),h=n(9008);function v(e,t,n,o,r,a,c){try{var i=e[a](c),s=i.value}catch(u){return void n(u)}i.done?t(s):Promise.resolve(s).then(o,r)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){_(e,t,n[t])}))}return e}function g(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var y=!0,b=function(e){var t,n=e.todos,o=(0,c.useState)(n),i=o[0],s=o[1],u=(0,c.useState)(""),d=u[0],f=u[1],_=(0,c.useState)(""),y=_[0],b=_[1],w=(t=r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),e.next=4,m()({method:"POST",url:"/api/new",data:{content:t,description:y}});case 4:n=e.sent,s((function(e){return g(e).concat([x({},n.data.todo,{_id:n.data.todo._id.toString()})])})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var e=this,n=arguments;return new Promise((function(o,r){var a=t.apply(e,n);function c(e){v(a,o,r,c,i,"next",e)}function i(e){v(a,o,r,c,i,"throw",e)}c(void 0)}))});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(h.default,{children:[(0,a.jsx)("title",{children:"Todos || Home"}),(0,a.jsx)("meta",{name:"description",content:"Todos || Manage your tasks easily"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})]}),(0,a.jsx)(l,{onSubmit:w,todo:d,setTodo:f,todoDescription:y,settodoDescription:b}),(0,a.jsx)(p.Z,{todos:i,setTodo:f,todoDescription:y,settodoDescription:b})]})}},5008:function(e){e.exports={wrapper:"NewTodo_wrapper__PNad7",inputWrapper:"NewTodo_inputWrapper__WBt0k",input:"NewTodo_input__WR2v3",icon:"NewTodo_icon__ycbqz",addBtn:"NewTodo_addBtn__0Vddt"}},8758:function(e){e.exports={todoItem:"TodoItem_todoItem__Fxmfn",todoContent:"TodoItem_todoContent__CiXR7",starIconDiv:"TodoItem_starIconDiv__nugqs",trashIcon:"TodoItem_trashIcon__a1_oi",circle:"TodoItem_circle__UWHpO",checkmark:"TodoItem_checkmark__iE6mi",taskDone:"TodoItem_taskDone__dWkpQ"}}},function(e){e.O(0,[647,774,888,179],(function(){return t=8581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);