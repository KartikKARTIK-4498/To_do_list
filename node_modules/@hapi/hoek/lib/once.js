'use strict';

<<<<<<< HEAD
const internals = {};
=======
const internals = {
    wrapped: Symbol('wrapped')
};
>>>>>>> daf1795927da2d71e7fda32ee847e5794b9052d5


module.exports = function (method) {

<<<<<<< HEAD
    if (method._hoekOnce) {
=======
    if (method[internals.wrapped]) {
>>>>>>> daf1795927da2d71e7fda32ee847e5794b9052d5
        return method;
    }

    let once = false;
<<<<<<< HEAD
    const wrapped = function (...args) {
=======
    const wrappedFn = function (...args) {
>>>>>>> daf1795927da2d71e7fda32ee847e5794b9052d5

        if (!once) {
            once = true;
            method(...args);
        }
    };

<<<<<<< HEAD
    wrapped._hoekOnce = true;
    return wrapped;
=======
    wrappedFn[internals.wrapped] = true;
    return wrappedFn;
>>>>>>> daf1795927da2d71e7fda32ee847e5794b9052d5
};
