'use strict';

<<<<<<< HEAD
module.exports = function setDottedPath(obj, path, val) {
  const parts = path.indexOf('.') === -1 ? [path] : path.split('.');
  let cur = obj;
  for (const part of parts.slice(0, -1)) {
=======
const specialProperties = require('../specialProperties');


module.exports = function setDottedPath(obj, path, val) {
  if (path.indexOf('.') === -1) {
    if (specialProperties.has(path)) {
      return;
    }

    obj[path] = val;
    return;
  }
  const parts = path.split('.');

  const last = parts.pop();
  let cur = obj;
  for (const part of parts) {
    if (specialProperties.has(part)) {
      continue;
    }
>>>>>>> daf1795927da2d71e7fda32ee847e5794b9052d5
    if (cur[part] == null) {
      cur[part] = {};
    }

    cur = cur[part];
  }

<<<<<<< HEAD
  const last = parts[parts.length - 1];
  cur[last] = val;
};
=======
  if (!specialProperties.has(last)) {
    cur[last] = val;
  }
};
>>>>>>> daf1795927da2d71e7fda32ee847e5794b9052d5
