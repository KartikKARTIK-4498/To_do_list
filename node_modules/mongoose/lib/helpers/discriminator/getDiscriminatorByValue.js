'use strict';

const areDiscriminatorValuesEqual = require('./areDiscriminatorValuesEqual');

<<<<<<< HEAD
/*!
* returns discriminator by discriminatorMapping.value
*
* @param {Model} model
* @param {string} value
*/
=======
/**
 * returns discriminator by discriminatorMapping.value
 *
 * @param {Object} discriminators
 * @param {string} value
 * @api private
 */
>>>>>>> daf1795927da2d71e7fda32ee847e5794b9052d5

module.exports = function getDiscriminatorByValue(discriminators, value) {
  if (discriminators == null) {
    return null;
  }
  for (const name of Object.keys(discriminators)) {
    const it = discriminators[name];
    if (
      it.schema &&
      it.schema.discriminatorMapping &&
      areDiscriminatorValuesEqual(it.schema.discriminatorMapping.value, value)
    ) {
      return it;
    }
  }
  return null;
<<<<<<< HEAD
};
=======
};
>>>>>>> daf1795927da2d71e7fda32ee847e5794b9052d5
